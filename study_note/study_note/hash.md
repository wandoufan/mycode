# 主要介绍hash相关的知识点


## 基本概念
* hash函数(散列函数)可以把不同长度的输入，通过散列算法，变换为固定长度的输出，即hash值

构造散列函数时应该尽量简单易算，计算出的地址尽量均匀分布到整个地址空间  
散列函数可能会把两个或两个以上的不同关键字映射到同一地址，称为'冲突'，发生冲突的不同关键字称为同义词  
注意：不同的输入经过hash函数可能会变成相同的输出，因此不可能通过hash值来确定输入的关键字值  

* 散列表中存储了关键字和对应存储地址的映射关系，即可以根据散列表直接快速访问关键字的地址，时间复杂度O(1)

* 常见hash算法：
* 1.MD5
* 2.SHA1

* hash的实际应用：
* 1.文件校验
* 2.数字签名
* 3.鉴权协议


## hash函数的构造方法
* 1.取余法
* 取余法是最简单最常用的hash构造方法，将关键字用md5等方法转换为数字类型，然后进行取余操作即可
* 一般设置余数为质数或不包含小于20的质因素的合数
* 2.直接定址法
* 将hash函数设置为形如 y = ax + b 形式的线性函数
* 这种方法简单，地址集合和关键字集合的大小相同，但实际能用到的情况很少
* 3.相乘取整法
* 首先用关键字key乘上某个常数A(0<A<1)，并抽取出乘积的小数部分；然后用m乘以该小数后取整
* 该方法最大的优点是m的选取比除余法要求更低
* 4.平方取中法
* 取关键字平方后的中间几位为哈希地址
* 通过平方扩大差别，另外中间几位与乘数的每一位相关，由此产生的散列地址较为均匀
* 5.折叠法
* 将关键字分割成位数相同的几部分(最后一部分的位数可以不同)，然后取这几部分的叠加和(舍去进位）作为哈希地址
* 6.随机数法
* 选择一个随机函数，取关键字的随机函数值为它的哈希地址
* 当关键字长度不等时采用此法构造哈希函数较恰当


## 如何解决hash冲突
* 一方面选取散列函数时要尽可能避免hash冲突，另一方面hash冲突总是不可避免的
* 常见解决hash冲突的方法：
* 1.开放地址法
* 对于一个关键字计算出一个hash值后，如果发现对应的地址空间已经有同义词占用了，即发生了'冲突'
* 则重新计算(关键字+1)的hash值，相当于使用对应地址空间的下一个地址空间
* 如果下一个地址空间也被占用了就继续往下找，直到找到一个未被使用的地址空间

* 2.链地址法
* 如果有多个同义词发生冲突，则将这些同义词构成一个链表结构，表头指向它们共同的地址空间
* 后续有新的同义词进来时，将其继续添加到链表结构即可


## 示例
* 1.将输入的数据分别存入5个数据库中，hash函数的实现方式？
* 求出数据的md5值，然后对5取余，即md5(data)%5