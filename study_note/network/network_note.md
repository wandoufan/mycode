# 计算机网络基础知识总结

参考资料：  
> https://www.cnblogs.com/maybe2030/p/4781555.html#_label1

## OSI/ISO七层模型的处理过程
先对数据从上到下进行层层封装发送出去，然后对数据从下到上进行层层解包接收  
上层的传输关心的是IP地址，下层的传输关心的是MAC地址  
MAC地址才是设备唯一的标识符，最后必须用ARP等协议把IP转换成MAC地址  

## OSI/ISO七层协议
1. 应用层
应用层为操作系统和网络应用提供访问网络服务的接口  
应用层的网络协议包括：FTP文件传输协议、DNS域名解析协议、SMTP简单邮件传输协议、HTTP超文本传输协议  
2. 表示层
表示层负责处理两个通信系统中交换信息的表示方式，包括数据的编码解码、加密解密、压缩等  
3. 会话层
会话层负责会话-会话的传输，即建立、管理、中止进程之间的会话  
4. 传输层
传输层负责端-端的传输、端到端的流量控制和差错控制，将数据传输主机上对应的端口  
传输层的设备包括：网关  
传输层的协议包括：TCP协议、UDP协议  
5. 网络层
网络层负责主机-主机传输、路由选择、寻址、建立维护连接等，将数据从源主机传输到目标主机  
网络层的设备包括：路由器  
网络层的协议包括：IP协议、ICMP报文控制协议、ARP地址协议、RARP逆地址解析协议  
6. 数据链路层
数据链路层负责数据打包成帧、物理地址寻址、流量控制、数据检错和重发，为网络层提供可靠的数据传输服务  
数据链路层的设备包括：网桥和交换机  
数据链路层的协议包括：以太网协议IEEE  
7. 物理层
物理层负责通信点之间的机械特性、电气特性和物理特性  
物理层的设备包括：集线器和中继器/放大器  


## TCP/IP四层协议
1. 应用层
用户-用户，提供面向应用的高层协议  
2. 传输层
应用-应用/进程-进程，使源主机和目的主机上的对等实体可以进行会话  
3. 网际层
主机-主机，选择合适的路由将分组发向目的网络  
4. 网络接口层
从主机接收数据，将其分组打包发送到指定的物理网络  


## TTL
1. 基本概念
TTL是Time To Live的缩写，即生存时间值，TTL是IPv4报头的一个8 bit字段  
该字段指定IP包被路由器丢弃之前允许通过的最大网段数量，即被路由器转发的最大次数(跳数)  
2. 作用
TTL的作用是限制IP数据包在计算机网络中的存在的时间，最大值是255，推荐值是64  
避免IP包在网络中的无限循环和收发，节省了网络资源，并能使IP包的发送者能收到告警消息  
3. 工作过程
TTL字段由IP数据包的发送者设置，在IP数据包从源到目的的整个转发路径上，每经过一个路由器，路由器都会把该TTL的值减1，然后再将IP包转发出去  
如果在IP包到达目的IP之前，TTL减少为0，路由器将会丢弃收到的TTL=0的IP包并向IP包的发送者发送 ICMP time exceeded消息  
4. UDP组播测试
特别地，在局域网中进行UDP组播测试时，将TTL的值设置1，表示表示组播数据包只能在同一个路由下的局域网内传播  