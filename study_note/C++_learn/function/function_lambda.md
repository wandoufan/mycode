# lambda表达式

## 基本语法
lambda表达式即匿名函数，有函数体，没有函数名，常用于一次性函数  
备注：在C++中不需要lambda关键字来标识lambda表达式  
```
[函数对象参数] (参数列表) mutable或exception声明 -> 返回值类型 {函数体}
[capture] (parameters) mutable/exception -> return-type {statement}
```
1. 函数对象参数
函数对象参数标识着这是一个lambda表达式，必须存在，不能省略  
函数对象参数有以下形式：  
1.1 []  
参数为空，即没有任何函数对象参数  
1.2 [=]  
函数体内可以使用表达式所在的范围内所有的局部变量(包括所在类的this)，采用值传递的方式  
1.3 [&]  
函数体内可以使用表达式所在的范围内所有的局部变量(包括所在类的this)，采用引用传递的方式  
1.4 [this]  
函数体内可以使用表达式所在类中所有的成员变量  
1.5 [a]  
将变量a按值进行传递  
1.6 [&a]  
将变量a按引用进行传递  
1.7 [a, &b]  
将变量a按值进行传递，将变量b按引用进行传递  
1.8 [=, &a, &b]  
除了a和b按引用进行传递外，其他参数都按值进行传递  
1.9 [&, a, b]  
除了a和b按值进行传递外，其他参数都按引用进行传递  

2. 参数列表
与普通函数的参数列表一致，需要写出变量类型和变量名  
如果不需要传递参数，这部分可以连同括号一起省略  

3. mutable或exception声明
如果不需要，这部分可以省略  

4. 返回值类型
当返回值为void，或者函数体中只有一处return的地方时(系统会自动判断返回类型)，这部分可以省略  

5. 函数体
用来标识函数的实现部分，函数体可以为空，但不能省略大括号  


## 注意事项
按值进行传递时，函数体内不能修改传递进来的a的拷贝，因为默认情况下函数是const的  
如果要修改传递进来的拷贝，可以添加mutable修饰符  
注意：能够进行修改的是变量的拷贝，而不是变量本身  


## 代码示例
1. lambda表达式前面可以加一个函数名和函数类型
注意：函数类型一般写'auto'，直接写成'int'等类型反而可能报错，原因未知  
```
int result, i = 1, j = 2;
auto func = [=] (int x, int y) -> int {return x + y;};
cout << func(i, j) << endl;
result = func(2, 3);
cout << result << endl;
```
2. lambda表达式常用在for循环里
```
int i, j;
auto func = [i, j] (int x, int y) -> int {return x + y;};
for(i = 0; i < 10; i++)
{
	cout << func(i, i*2) << endl;
}
```
